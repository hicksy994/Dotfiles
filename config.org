#+TITLE: Emacs Config
#+OPTIONS: TOC:nil

* Emacs configuration
** Theme settings
*** Highlighting
**** Disable current line highlighting
#+BEGIN_SRC emacs-lisp
(setq global-hl-line-mode nil)
#+END_SRC

**** Disable smartparens highlighting
#+BEGIN_SRC emacs-lisp
(with-eval-after-load 'smartparens
  (show-smartparens-global-mode -1))
#+END_SRC

**** Disable highlighting on whitespace and new lines
#+BEGIN_SRC emacs-lisp
(setq sp-highlight-pair-overlay nil)
(setq sp-highlight-wrap-overlay nil)
(setq sp-highlight-wrap-tag-overlay nil)
(setq spacemacs-show-trailing-whitespace nil)
#+END_SRC

*** Powerline
**** Separator
#+BEGIN_SRC emacs-lisp
(setq powerline-default-separator 'arrow)
#+END_SRC

**** Disable minor mode info
#+BEGIN_SRC emacs-lisp
(spaceline-toggle-minor-modes-off)
#+END_SRC

** Major mode settings
*** Languages
**** C/C++
***** Enable eldoc-mode
#+BEGIN_SRC emacs-lisp
(add-hook 'c-mode-hook 'c-turn-on-eldoc-mode)
(add-hook 'c++-mode-hook 'c-turn-on-eldoc-mode)
#+END_SRC

***** Set style for indentation
#+BEGIN_SRC emacs-lisp
(setq c-default-style "k&r")
#+END_SRC

**** Rust
***** Autocomplete 
****** Set Racer and Rust source paths
#+BEGIN_SRC emacs-lisp
(setq racer-cmd "/usr/local/bin/racer")
(setq racer-rust-src-path "/usr/local/src/rust/src")
#+END_SRC

**** Java
***** Eclim
****** Set Eclim and Eclipse paths
#+BEGIN_SRC emacs-lisp
(setq eclim-eclipse-dirs "/usr/lib/eclipse"
      eclim-executable "/usr/lib/eclipse/eclim")
#+END_SRC

*** Org-mode
**** Allow Babel to execute source blocks in certain languages
#+BEGIN_SRC emacs-lisp
(org-babel-do-load-languages
 'org-babel-load-languages '((C . t)
                             (emacs-lisp . t)
                             (haskell . t)
                             (java . t)))
#+END_SRC

**** Turn off line numbers 
#+BEGIN_SRC emacs-lisp
(add-hook 'org-mode-hook
  (lambda() (linum-mode 0)))
#+END_SRC

**** Turn on text wrapping
#+BEGIN_SRC emacs-lisp
(add-hook 'org-mode-hook
          (lambda() (visual-line-mode t)))
#+END_SRC

**** Org-Capture TODO template
#+BEGIN_SRC emacs-lisp
(setq org-capture-templates
  '(("t" "Todo" entry (file+headline "~/org/Todo.org" "Todo")
     "* TODO  %?")))
#+END_SRC

**** Use current window when editing a code snippet
#+BEGIN_SRC emacs-lisp
(setq org-src-window-setup 'current-window)
#+END_SRC

*** Conf-mode
**** Enable line numbers
#+BEGIN_SRC emacs-lisp
(add-hook 'conf-mode-hook 'linum-mode)
#+END_SRC

**** Enable company-mode
#+BEGIN_SRC emacs-lisp
(add-hook 'conf-mode-hook 'company-mode)
#+END_SRC

**** Enable smartparens-mode
#+BEGIN_SRC emacs-lisp
(add-hook 'conf-mode-hook 'smartparens-mode)
#+END_SRC

*** Term mode
**** Set keybinding for killing command
#+BEGIN_SRC emacs-lisp
(spacemacs/set-leader-keys-for-major-mode 'term-mode "q" 'term-kill-subjob)
#+END_SRC

**** Disable yasnippet
#+BEGIN_SRC emacs-lisp
(add-hook 'term-mode-hook
  (lambda() (setq yas-dont-activate t)))
#+END_SRC

*** ERC mode
**** Stop irc channels appearing in modeline of irrelevant buffers 
#+BEGIN_SRC emacs-lisp
  (setq spaceline-erc-track-p nil)
#+END_SRC

** Functions
*** Open todo file 
**** Define "open-todo" 
#+BEGIN_SRC emacs-lisp
  (defun open-todo()
    (interactive)
    "Open my todo.org file"
    (find-file-existing "~/org/Todo.org"))
#+END_SRC

**** Set keybinding for "open-todo" 
#+BEGIN_SRC emacs-lisp
  (define-key evil-normal-state-map (kbd "SPC a o T") 'open-todo)
#+END_SRC

*** Kill buffer and window 
**** Define "kill-buffer-and-window" 
#+BEGIN_SRC emacs-lisp
  (defun kill-buffer-and-window()
    (interactive)
    "Kill the current buffer and the current window"
    (image-dired-kill-buffer-and-window))
#+END_SRC

**** Set keybinding for "kill-buffer-and-window" 
#+BEGIN_SRC emacs-lisp
  (define-key evil-normal-state-map (kbd "SPC b D") 'kill-buffer-and-window)
#+END_SRC

*** Find config file
**** Define "find-config-file"
#+BEGIN_SRC emacs-lisp
  (defun find-config-file()
    (interactive)
    "Open my config.org file"
    (find-file-existing "~/.emacs.d/private/config.org"))
#+END_SRC

**** Set keybinding for "find-config-file" 
#+BEGIN_SRC emacs-lisp
  (define-key evil-normal-state-map (kbd "SPC f e c") 'find-config-file)
#+END_SRC

** Misc
*** Set evil escape keymap to jk
#+BEGIN_SRC emacs-lisp
(setq-default evil-escape-key-sequence "jk")
#+END_SRC

*** Keep git info on modeline up to date
#+BEGIN_SRC emacs-lisp
(setq auto-revert-check-vc-info t)
#+END_SRC

*** Disable lockfile creation
#+BEGIN_SRC emacs-lisp
(setq create-lockfiles nil)
#+END_SRC

*** Disable evil shift rounding
#+BEGIN_SRC emacs-lisp
(setq-default evil-shift-round 'nil)
#+END_SRC

*** Set default browser
#+BEGIN_SRC emacs-lisp
(setq browse-url-browser-function 'browse-url-generic
      browse-url-generic-program "google-chrome-stable")
#+END_SRC

*** Enable global camelCase motion
#+BEGIN_SRC emacs-lisp
 (spacemacs/toggle-camel-case-motion-globally-on)
#+END_SRC

*** Set some useless buffers
**** Helm
#+BEGIN_SRC emacs-lisp
(setq spacemacs-useless-buffers-regexp '("\\*helm\.\+\\*"))
#+END_SRC

**** Flycheck errors
#+BEGIN_SRC emacs-lisp
(push "\\*Flycheck error messages\\*" spacemacs-useless-buffers-regexp)
(with-eval-after-load 'helm (add-to-list 'helm-boring-buffer-regexp-list '"\\*Flycheck error messages\\*"))
#+END_SRC

**** FAQ.org
#+BEGIN_SRC emacs-lisp
(push "FAQ.org" spacemacs-useless-buffers-regexp)
(with-eval-after-load 'helm (add-to-list 'helm-boring-buffer-regexp-list '"FAQ.org"))
#+END_SRC

**** Help
#+BEGIN_SRC emacs-lisp
(push "\\*Help\\*" spacemacs-useless-buffers-regexp)
(with-eval-after-load 'helm (add-to-list 'helm-boring-buffer-regexp-list '"\\*Help\\*"))
#+END_SRC

